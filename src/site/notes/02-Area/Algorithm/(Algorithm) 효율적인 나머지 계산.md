---
{"dg-publish":true,"permalink":"/02-Area/Algorithm/(Algorithm) 효율적인 나머지 계산/","tags":["Area/Algorithm"],"noteIcon":"","created":"2025-01-05T15:54:58.000+09:00","updated":"2025-04-07T22:52:16.456+09:00"}
---


# 효율적인 나머지 계산 방법

나머지 연산은 많은 알고리즘과 수학적 문제에서 중요한 역할을 한다. **나머지 연산**은 주로 큰 수의 계산에서 오버플로우를 방지하고 효율적인 계산을 하기 위해 사용된다. 특히 **모듈러 연산**을 통해 나머지 계산을 다루면 덧셈, 뺄셈, 곱셈에서 효율적인 처리가 가능하다. 이와 달리, 나눗셈은 직접 계산할 수 없기 때문에 **모듈러 역수**를 이용해 나머지 연산으로 변환해야 한다.

## 나머지 연산의 기본 원리

나머지 연산에서 중요한 성질은 **덧셈, 뺄셈, 곱셈**의 결과는 각 항의 나머지를 계산한 후에 다시 나머지를 구한 것과 **동일**하다는 점이다.

- **덧셈**: `(a + b) % m = ((a % m) + (b % m)) % m`
- **뺄셈**: `(a - b) % m = ((a % m) - (b % m) + m) % m`
- **곱셈**: `(a * b) % m = ((a % m) * (b % m)) % m`

예시:
- **11 * 3을 10으로 나눈 나머지**:
- 직접 계산: `(11 * 3) % 10 = 33 % 10 = 3`
- 나머지 계산: `(11 % 10) * (3 % 10) = 1 * 3 = 3`

따라서, **덧셈**, **뺄셈**, **곱셈**에서는 위와 같은 규칙을 사용해 효율적으로 나머지 계산을 할 수 있다.

## 나눗셈의 나머지 계산: 모듈러 역수

**나눗셈**에서는 덧셈, 뺄셈, 곱셈과 같은 방법을 사용할 수 없다. 나머지 계산에서 **나눗셈**을 처리하려면, **모듈러 역수**(Modular Inverse)를 이용해야 한다. 모듈러 역수를 통해 나눗셈을 **곱셈**으로 변환하여 처리할 수 있다.

- **모듈러 역수의 정의**: 어떤 수 `a`에 대해 **모듈러 역수** `x`는 `(a * x) % m = 1`을 만족하는 값이다. 즉, 모듈러 연산에서 나눗셈을 곱셈으로 바꾸어 처리할 수 있다.

예를 들어, `a / b % m`을 구하려면, 다음과 같이 변환할 수 있다:
- **(a / b) % m = (a * (b의 모듈러 역수)) % m**

모듈러 역수 `x`는 `b * x ≡ 1 (mod m)`을 만족하는 값이다.

## 모듈러 역수를 구하는 방법

1. **브루트 포스 방법**: 모듈러 역수는 수를 나누었을 때 **나머지가 1**이 되는 값을 찾아야 하므로, 직접 나누어보며 계산할 수 있다.
    - 즉, `b * x % m = 1`을 만족하는 `x`를 찾는다.
2. **페르마의 소정리**: 더 효율적으로 모듈러 역수를 구하기 위해서는 **페르마의 소정리**를 이용할 수 있다. 이 방법은 특히 **소수**를 이용한 경우에 유용하다.

## 페르마의 소정리

**페르마의 소정리**는 모듈러 연산에서 **모듈러 역수**를 구하는 데 중요한 역할을 한다. 이 정리는 소수와 관련된 특성을 설명한다.

- **페르마의 소정리**:
    - 소수 `p`와 정수 `a`가 서로소일 때, 다음 식이 성립한다:
        - **a^(p-1) ≡ 1 (mod p)**
    - 이를 통해, **a의 모듈러 역수는 a^(p-2) % p**로 구할 수 있다.

페르마의 소정리를 이용하면 소수 `p`에 대해 **모듈러 역수**를 쉽게 계산할 수 있다. 즉, **a^(p-2) % p**는 **a의 모듈러 역수**가 된다.

## 예시: 모듈러 역수 구하기

예를 들어, **3 / 7 % 13**을 구하고자 한다면, 7의 모듈러 역수를 구해야 한다. 페르마의 소정리에 따라, **7^11 % 13**이 7의 모듈러 역수가 된다.

1. 7의 모듈러 역수를 구한다:
    - **7^(13-2) % 13 = 7^11 % 13**
2. `7^11 % 13`을 계산하면, 모듈러 역수가 구해진다.

## 요약

- **덧셈, 뺄셈, 곱셈**의 나머지 계산은 각 항의 나머지를 계산한 후 최종적으로 다시 나머지를 계산하는 방식으로 처리할 수 있다.
- **나눗셈**의 나머지 계산은 **모듈러 역수**를 사용해 곱셈으로 변환하여 처리한다.
- **모듈러 역수**는 `(a * x) % m = 1`을 만족하는 값이며, 이를 구하는 효율적인 방법은 **페르마의 소정리**를 이용하는 것이다.